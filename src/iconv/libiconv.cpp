#include "stdafx.h"
#if 0
struct stringpool_t
{
 char stringpool_str15[sizeof("L6")];
 char stringpool_str17[sizeof("L1")];
 char stringpool_str20[sizeof("CN")];
 char stringpool_str25[sizeof("L4")];
 char stringpool_str27[sizeof("L5")];
 char stringpool_str30[sizeof("R8")];
 char stringpool_str33[sizeof("L8")];
 char stringpool_str34[sizeof("SJIS")];
 char stringpool_str36[sizeof("866")];
 char stringpool_str43[sizeof("L2")];
 char stringpool_str51[sizeof("ISO-IR-6")];
 char stringpool_str54[sizeof("CP866")];
 char stringpool_str64[sizeof("C99")];
 char stringpool_str65[sizeof("ISO-IR-166")];
 char stringpool_str66[sizeof("EUCCN")];
 char stringpool_str67[sizeof("LATIN6")];
 char stringpool_str70[sizeof("CP154")];
 char stringpool_str71[sizeof("LATIN1")];
 char stringpool_str72[sizeof("EUC-CN")];
 char stringpool_str74[sizeof("CYRILLIC")];
 char stringpool_str76[sizeof("ISO646-CN")];
 char stringpool_str78[sizeof("HZ")];
 char stringpool_str79[sizeof("ISO-IR-14")];
 char stringpool_str84[sizeof("CP1256")];
 char stringpool_str87[sizeof("LATIN4")];
 char stringpool_str88[sizeof("CP1251")];
 char stringpool_str89[sizeof("ISO-IR-165")];
 char stringpool_str91[sizeof("LATIN5")];
 char stringpool_str92[sizeof("862")];
 char stringpool_str93[sizeof("ISO-IR-126")];
 char stringpool_str95[sizeof("ISO-IR-144")];
 char stringpool_str96[sizeof("CP819")];
 char stringpool_str103[sizeof("LATIN8")];
 char stringpool_str104[sizeof("CP1254")];
 char stringpool_str105[sizeof("ISO-IR-58")];
 char stringpool_str106[sizeof("CP949")];
 char stringpool_str108[sizeof("CP1255")];
 char stringpool_str110[sizeof("CP862")];
 char stringpool_str111[sizeof("ISO-IR-148")];
 char stringpool_str112[sizeof("L3")];
 char stringpool_str113[sizeof("LATIN-9")];
 char stringpool_str114[sizeof("CHINESE")];
 char stringpool_str115[sizeof("ISO-IR-149")];
 char stringpool_str117[sizeof("ISO-IR-159")];
 char stringpool_str119[sizeof("ISO-IR-226")];
 char stringpool_str120[sizeof("CP1258")];
 char stringpool_str121[sizeof("PT154")];
 char stringpool_str123[sizeof("LATIN2")];
 char stringpool_str124[sizeof("ISO8859-6")];
 char stringpool_str125[sizeof("ISO-IR-199")];
 char stringpool_str128[sizeof("ISO8859-1")];
 char stringpool_str129[sizeof("ISO-CELTIC")];
 char stringpool_str130[sizeof("ISO-8859-6")];
 char stringpool_str131[sizeof("ISO_8859-6")];
 char stringpool_str132[sizeof("ISO8859-16")];
 char stringpool_str134[sizeof("ISO-8859-1")];
 char stringpool_str135[sizeof("ISO_8859-1")];
 char stringpool_str136[sizeof("ISO8859-11")];
 char stringpool_str138[sizeof("ISO-8859-16")];
 char stringpool_str139[sizeof("ISO_8859-16")];
 char stringpool_str140[sizeof("CP1252")];
 char stringpool_str142[sizeof("ISO-8859-11")];
 char stringpool_str143[sizeof("ISO_8859-11")];
 char stringpool_str144[sizeof("ISO8859-4")];
 char stringpool_str145[sizeof("CP1361")];
 char stringpool_str146[sizeof("ISO_8859-16:2001")];
 char stringpool_str147[sizeof("CP1131")];
 char stringpool_str148[sizeof("ISO8859-5")];
 char stringpool_str150[sizeof("ISO-8859-4")];
 char stringpool_str151[sizeof("ISO_8859-4")];
 char stringpool_str152[sizeof("ISO8859-14")];
 char stringpool_str153[sizeof("CP936")];
 char stringpool_str154[sizeof("ISO-8859-5")];
 char stringpool_str155[sizeof("ISO_8859-5")];
 char stringpool_str156[sizeof("ISO8859-15")];
 char stringpool_str157[sizeof("MAC")];
 char stringpool_str158[sizeof("ISO-8859-14")];
 char stringpool_str159[sizeof("ISO_8859-14")];
 char stringpool_str160[sizeof("ISO8859-8")];
 char stringpool_str161[sizeof("ISO-IR-101")];
 char stringpool_str162[sizeof("ISO-8859-15")];
 char stringpool_str163[sizeof("ISO_8859-15")];
 char stringpool_str164[sizeof("ISO8859-9")];
 char stringpool_str166[sizeof("ISO-8859-8")];
 char stringpool_str167[sizeof("ISO_8859-8")];
 char stringpool_str170[sizeof("ISO-8859-9")];
 char stringpool_str171[sizeof("ISO_8859-9")];
 char stringpool_str172[sizeof("ISO_8859-14:1998")];
 char stringpool_str174[sizeof("ISO_8859-15:1998")];
 char stringpool_str176[sizeof("RK1048")];
 char stringpool_str179[sizeof("ELOT_928")];
 char stringpool_str180[sizeof("ISO8859-2")];
 char stringpool_str182[sizeof("IBM866")];
 char stringpool_str183[sizeof("L7")];
 char stringpool_str184[sizeof("US")];
 char stringpool_str186[sizeof("ISO-8859-2")];
 char stringpool_str187[sizeof("ISO_8859-2")];
 char stringpool_str190[sizeof("X0212")];
 char stringpool_str193[sizeof("CHAR")];
 char stringpool_str196[sizeof("PTCP154")];
 char stringpool_str197[sizeof("ISO-IR-109")];
 char stringpool_str198[sizeof("ISO-IR-138")];
 char stringpool_str199[sizeof("UHC")];
 char stringpool_str202[sizeof("ASCII")];
 char stringpool_str204[sizeof("MS-CYRL")];
 char stringpool_str205[sizeof("L10")];
 char stringpool_str206[sizeof("VISCII")];
 char stringpool_str209[sizeof("CP932")];
 char stringpool_str210[sizeof("BIG5")];
 char stringpool_str211[sizeof("TCVN")];
 char stringpool_str212[sizeof("CP50221")];
 char stringpool_str216[sizeof("BIG-5")];
 char stringpool_str217[sizeof("MS-EE")];
 char stringpool_str220[sizeof("850")];
 char stringpool_str222[sizeof("UCS-4")];
 char stringpool_str223[sizeof("CSASCII")];
 char stringpool_str224[sizeof("IBM819")];
 char stringpool_str225[sizeof("CSVISCII")];
 char stringpool_str227[sizeof("GB2312")];
 char stringpool_str228[sizeof("X0201")];
 char stringpool_str229[sizeof("CSBIG5")];
 char stringpool_str235[sizeof("CN-BIG5")];
 char stringpool_str236[sizeof("KOI8-R")];
 char stringpool_str237[sizeof("EUCKR")];
 char stringpool_str238[sizeof("IBM862")];
 char stringpool_str239[sizeof("CSPTCP154")];
 char stringpool_str240[sizeof("CSUCS4")];
 char stringpool_str241[sizeof("ISO646-US")];
 char stringpool_str242[sizeof("CP874")];
 char stringpool_str243[sizeof("EUC-KR")];
 char stringpool_str244[sizeof("VISCII1.1-1")];
 char stringpool_str246[sizeof("ISO_646.IRV:1991")];
 char stringpool_str248[sizeof("MACCYRILLIC")];
 char stringpool_str249[sizeof("CSKOI8R")];
 char stringpool_str250[sizeof("CP850")];
 char stringpool_str251[sizeof("ISO-IR-110")];
 char stringpool_str252[sizeof("CP950")];
 char stringpool_str254[sizeof("ISO-2022-CN")];
 char stringpool_str255[sizeof("CN-GB-ISOIR165")];
 char stringpool_str257[sizeof("CYRILLIC-ASIAN")];
 char stringpool_str258[sizeof("UCS-2")];
 char stringpool_str259[sizeof("LATIN10")];
 char stringpool_str260[sizeof("X0208")];
 char stringpool_str261[sizeof("LATIN3")];
 char stringpool_str263[sizeof("CSISO2022CN")];
 char stringpool_str264[sizeof("ISO_8859-10:1992")];
 char stringpool_str267[sizeof("UCS-4LE")];
 char stringpool_str268[sizeof("CP1250")];
 char stringpool_str271[sizeof("CSISOLATIN6")];
 char stringpool_str273[sizeof("ISO-IR-179")];
 char stringpool_str274[sizeof("MS936")];
 char stringpool_str275[sizeof("CSISOLATIN1")];
 char stringpool_str276[sizeof("TIS620")];
 char stringpool_str278[sizeof("CP1253")];
 char stringpool_str281[sizeof("ISO-2022-CN-EXT")];
 char stringpool_str282[sizeof("TIS-620")];
 char stringpool_str285[sizeof("UCS-2LE")];
 char stringpool_str286[sizeof("KOI8-T")];
 char stringpool_str290[sizeof("CSISOLATINCYRILLIC")];
 char stringpool_str291[sizeof("CSISOLATIN4")];
 char stringpool_str295[sizeof("CSISOLATIN5")];
 char stringpool_str296[sizeof("UNICODE-1-1")];
 char stringpool_str301[sizeof("GREEK8")];
 char stringpool_str302[sizeof("UCS-4-INTERNAL")];
 char stringpool_str304[sizeof("CSUNICODE11")];
 char stringpool_str306[sizeof("CSUNICODE")];
 char stringpool_str307[sizeof("TIS620.2529-1")];
 char stringpool_str311[sizeof("NEXTSTEP")];
 char stringpool_str312[sizeof("GEORGIAN-PS")];
 char stringpool_str316[sizeof("ISO8859-10")];
 char stringpool_str318[sizeof("ISO8859-3")];
 char stringpool_str320[sizeof("UCS-2-INTERNAL")];
 char stringpool_str322[sizeof("ISO-8859-10")];
 char stringpool_str323[sizeof("ISO_8859-10")];
 char stringpool_str324[sizeof("ISO-8859-3")];
 char stringpool_str325[sizeof("ISO_8859-3")];
 char stringpool_str326[sizeof("ISO8859-13")];
 char stringpool_str327[sizeof("CSISOLATIN2")];
 char stringpool_str329[sizeof("GB_1988-80")];
 char stringpool_str332[sizeof("ISO-8859-13")];
 char stringpool_str333[sizeof("ISO_8859-13")];
 char stringpool_str337[sizeof("CP1133")];
 char stringpool_str339[sizeof("MS-ANSI")];
 char stringpool_str341[sizeof("ISO-IR-100")];
 char stringpool_str344[sizeof("KSC_5601")];
 char stringpool_str349[sizeof("MACINTOSH")];
 char stringpool_str352[sizeof("CN-GB")];
 char stringpool_str354[sizeof("CSIBM866")];
 char stringpool_str355[sizeof("ISO-10646-UCS-4")];
 char stringpool_str357[sizeof("ISO_8859-4:1988")];
 char stringpool_str359[sizeof("ISO_8859-5:1988")];
 char stringpool_str361[sizeof("UTF-16")];
 char stringpool_str363[sizeof("KZ-1048")];
 char stringpool_str364[sizeof("ROMAN8")];
 char stringpool_str365[sizeof("ISO_8859-8:1988")];
 char stringpool_str366[sizeof("UNICODELITTLE")];
 char stringpool_str369[sizeof("ISO_8859-9:1989")];
 char stringpool_str372[sizeof("JP")];
 char stringpool_str373[sizeof("ISO-10646-UCS-2")];
 char stringpool_str375[sizeof("MULELAO-1")];
 char stringpool_str376[sizeof("CSKZ1048")];
 char stringpool_str377[sizeof("ISO-IR-203")];
 char stringpool_str378[sizeof("IBM850")];
 char stringpool_str380[sizeof("TIS620-0")];
 char stringpool_str382[sizeof("ECMA-114")];
 char stringpool_str386[sizeof("KS_C_5601-1989")];
 char stringpool_str388[sizeof("GBK")];
 char stringpool_str389[sizeof("UTF-8")];
 char stringpool_str391[sizeof("ARMSCII-8")];
 char stringpool_str392[sizeof("US-ASCII")];
 char stringpool_str398[sizeof("ECMA-118")];
 char stringpool_str399[sizeof("CSGB2312")];
 char stringpool_str403[sizeof("LATIN7")];
 char stringpool_str404[sizeof("KOREAN")];
 char stringpool_str405[sizeof("ISO-IR-57")];
 char stringpool_str408[sizeof("MS-HEBR")];
 char stringpool_str409[sizeof("CSISO14JISC6220RO")];
 char stringpool_str411[sizeof("ISO-IR-87")];
 char stringpool_str413[sizeof("ISO-IR-157")];
 char stringpool_str416[sizeof("UTF-16LE")];
 char stringpool_str418[sizeof("UCS-4BE")];
 char stringpool_str420[sizeof("CP1257")];
 char stringpool_str421[sizeof("ANSI_X3.4-1986")];
 char stringpool_str424[sizeof("CSEUCKR")];
 char stringpool_str425[sizeof("ISO-2022-KR")];
 char stringpool_str426[sizeof("GB_2312-80")];
 char stringpool_str429[sizeof("ISO-IR-127")];
 char stringpool_str430[sizeof("MACTHAI")];
 char stringpool_str431[sizeof("EUCTW")];
 char stringpool_str433[sizeof("EXTENDED_UNIX_CODE_PACKED_FORMAT_FOR_JAPANESE")];
 char stringpool_str434[sizeof("CSISO2022KR")];
 char stringpool_str436[sizeof("UCS-2BE")];
 char stringpool_str437[sizeof("EUC-TW")];
 char stringpool_str439[sizeof("ANSI_X3.4-1968")];
 char stringpool_str440[sizeof("GREEK")];
 char stringpool_str442[sizeof("MACICELAND")];
 char stringpool_str443[sizeof("GB18030")];
 char stringpool_str444[sizeof("ISO_8859-3:1988")];
 char stringpool_str445[sizeof("CSISOLATINARABIC")];
 char stringpool_str446[sizeof("GEORGIAN-ACADEMY")];
 char stringpool_str448[sizeof("HP-ROMAN8")];
 char stringpool_str453[sizeof("TIS620.2533-1")];
 char stringpool_str455[sizeof("UNICODEBIG")];
 char stringpool_str459[sizeof("TCVN5712-1")];
 char stringpool_str460[sizeof("ISO8859-7")];
 char stringpool_str461[sizeof("CSISO57GB1988")];
 char stringpool_str463[sizeof("MACCENTRALEUROPE")];
 char stringpool_str464[sizeof("CSISOLATINGREEK")];
 char stringpool_str465[sizeof("CSISOLATIN3")];
 char stringpool_str466[sizeof("ISO-8859-7")];
 char stringpool_str467[sizeof("ISO_8859-7")];
 char stringpool_str468[sizeof("UNICODE-1-1-UTF-7")];
 char stringpool_str469[sizeof("CP367")];
 char stringpool_str470[sizeof("HZ-GB-2312")];
 char stringpool_str473[sizeof("EUCJP")];
 char stringpool_str474[sizeof("CSUNICODE11UTF7")];
 char stringpool_str476[sizeof("MACROMAN")];
 char stringpool_str477[sizeof("TCVN-5712")];
 char stringpool_str479[sizeof("EUC-JP")];
 char stringpool_str483[sizeof("ISO646-JP")];
 char stringpool_str489[sizeof("BIG5HKSCS")];
 char stringpool_str490[sizeof("CSISO58GB231280")];
 char stringpool_str492[sizeof("WINDOWS-1256")];
 char stringpool_str494[sizeof("WINDOWS-1251")];
 char stringpool_str495[sizeof("BIG5-HKSCS")];
 char stringpool_str496[sizeof("WCHAR_T")];
 char stringpool_str497[sizeof("ISO_8859-6:1987")];
 char stringpool_str499[sizeof("ISO_8859-1:1987")];
 char stringpool_str502[sizeof("WINDOWS-1254")];
 char stringpool_str504[sizeof("WINDOWS-1255")];
 char stringpool_str510[sizeof("WINDOWS-1258")];
 char stringpool_str512[sizeof("UTF-32")];
 char stringpool_str516[sizeof("CSISOLATINHEBREW")];
 char stringpool_str517[sizeof("CSHPROMAN8")];
 char stringpool_str519[sizeof("CSISO159JISX02121990")];
 char stringpool_str520[sizeof("WINDOWS-1252")];
 char stringpool_str522[sizeof("STRK1048-2002")];
 char stringpool_str525[sizeof("ISO_8859-2:1987")];
 char stringpool_str529[sizeof("ARABIC")];
 char stringpool_str530[sizeof("CSMACINTOSH")];
 char stringpool_str534[sizeof("KS_C_5601-1987")];
 char stringpool_str536[sizeof("JIS_C6220-1969-RO")];
 char stringpool_str537[sizeof("JIS_C6226-1983")];
 char stringpool_str539[sizeof("UTF-32LE")];
 char stringpool_str543[sizeof("TIS620.2533-0")];
 char stringpool_str546[sizeof("IBM-CP1133")];
 char stringpool_str547[sizeof("SHIFT-JIS")];
 char stringpool_str548[sizeof("SHIFT_JIS")];
 char stringpool_str555[sizeof("CSPC862LATINHEBREW")];
 char stringpool_str557[sizeof("BIGFIVE")];
 char stringpool_str560[sizeof("CSKSC56011987")];
 char stringpool_str562[sizeof("MACCROATIAN")];
 char stringpool_str563[sizeof("BIG-FIVE")];
 char stringpool_str566[sizeof("WINDOWS-936")];
 char stringpool_str567[sizeof("UTF-16BE")];
 char stringpool_str574[sizeof("KOI8-U")];
 char stringpool_str580[sizeof("KOI8-RU")];
 char stringpool_str584[sizeof("WINDOWS-1250")];
 char stringpool_str585[sizeof("MS-GREEK")];
 char stringpool_str589[sizeof("WINDOWS-1253")];
 char stringpool_str591[sizeof("MACGREEK")];
 char stringpool_str592[sizeof("CSPC850MULTILINGUAL")];
 char stringpool_str594[sizeof("ISO_8859-7:2003")];
 char stringpool_str596[sizeof("JIS0208")];
 char stringpool_str597[sizeof("IBM367")];
 char stringpool_str608[sizeof("ISO-2022-JP-1")];
 char stringpool_str610[sizeof("ISO-2022-JP-MS")];
 char stringpool_str613[sizeof("JIS_X0212")];
 char stringpool_str618[sizeof("CSEUCTW")];
 char stringpool_str624[sizeof("CSSHIFTJIS")];
 char stringpool_str625[sizeof("HEBREW")];
 char stringpool_str634[sizeof("ISO-2022-JP-2")];
 char stringpool_str635[sizeof("ASMO-708")];
 char stringpool_str642[sizeof("CSISO2022JP2")];
 char stringpool_str651[sizeof("JIS_X0201")];
 char stringpool_str655[sizeof("WINDOWS-874")];
 char stringpool_str660[sizeof("WINDOWS-1257")];
 char stringpool_str661[sizeof("ISO-2022-JP")];
 char stringpool_str665[sizeof("ISO_8859-7:1987")];
 char stringpool_str666[sizeof("CSISO87JISX0208")];
 char stringpool_str670[sizeof("CSISO2022JP")];
 char stringpool_str680[sizeof("MACARABIC")];
 char stringpool_str683[sizeof("JIS_X0208")];
 char stringpool_str684[sizeof("JISX0201-1976")];
 char stringpool_str689[sizeof("UTF-7")];
 char stringpool_str690[sizeof("UTF-32BE")];
 char stringpool_str692[sizeof("BIG5-HKSCS:2001")];
 char stringpool_str694[sizeof("JIS_X0212-1990")];
 char stringpool_str697[sizeof("JIS_X0212.1990-0")];
 char stringpool_str700[sizeof("BIG5-HKSCS:2004")];
 char stringpool_str702[sizeof("MACTURKISH")];
 char stringpool_str708[sizeof("BIG5-HKSCS:2008")];
 char stringpool_str710[sizeof("BIG5-HKSCS:1999")];
 char stringpool_str725[sizeof("MS-TURK")];
 char stringpool_str732[sizeof("UCS-4-SWAPPED")];
 char stringpool_str749[sizeof("MACUKRAINE")];
 char stringpool_str750[sizeof("UCS-2-SWAPPED")];
 char stringpool_str752[sizeof("TCVN5712-1:1993")];
 char stringpool_str774[sizeof("JIS_X0208-1990")];
 char stringpool_str779[sizeof("JIS_X0208-1983")];
 char stringpool_str796[sizeof("MACHEBREW")];
 char stringpool_str803[sizeof("MS-ARAB")];
 char stringpool_str811[sizeof("JAVA")];
 char stringpool_str813[sizeof("MACROMANIA")];
 char stringpool_str827[sizeof("MS_KANJI")];
 char stringpool_str837[sizeof("WINBALTRIM")];
 char stringpool_str866[sizeof("CSEUCPKDFMTJAPANESE")];
 char stringpool_str869[sizeof("JOHAB")];
 char stringpool_str921[sizeof("CSHALFWIDTHKATAKANA")];
};
#endif
#define __iconv_close__(icd) if(icd){	iconv_close(icd);icd=nullptr;}

namespace libconv {

 template<typename T>
 static void FixedEof(_Inout_ T& input) {
  auto find_eof = input.find(L'\0');
  if (find_eof != std::string::npos) {
   input.erase(find_eof, input.size() - find_eof);
  }
 }
 /*
 size_t iconv(iconv_t icd,
 ICONV_CONST char** inbuf, size_t* inbytesleft,
 char** outbuf, size_t* outbytesleft)
 */
 std::wstring IConv::gbk_to_ucs2le(const std::string& input_gbk_data) {
		std::wstring result;
		libiconv_t icd = nullptr;
		do {
			if (input_gbk_data.empty())
				break;
   icd = iconv_open("UCS-2LE", "GBK");
			if (!icd)
				break;
			size_t gbk_data_size = input_gbk_data.size();
			size_t ucs2le_data_size = gbk_data_size * sizeof(wchar_t) + 4;
			result.resize(ucs2le_data_size, 0x00);
			char* pGbk = (char*)&input_gbk_data[0];
			char* pUnicode = (char*)&result[0];
			if (0 > iconv(icd, &pGbk, &gbk_data_size, &pUnicode, &ucs2le_data_size)) {
				result.clear();
				break;
			}
   FixedEof<std::wstring>(result);
		} while (0);
		__iconv_close__(icd);
		return result;
 }

 std::string IConv::ucs2le_to_gbk(const std::wstring& gbk_data) {
		std::string result;
		do {

		} while (0);
		return result;
 }

}///namespace libconv